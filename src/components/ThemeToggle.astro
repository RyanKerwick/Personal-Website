---
const KEY = 'theme';
---

<button
  class="text-sm px-3 py-1 rounded border"
  onclick="
    const nextIsDark = document.documentElement.classList.toggle('dark');
    localStorage.setItem('theme', nextIsDark ? 'dark' : 'light');
  "
>
  Toggle theme
</button>

<script is:inline>
  (function () {
    const pref = localStorage.getItem('theme');
    if (pref === 'dark') document.documentElement.classList.add('dark');
  })();
</script>
